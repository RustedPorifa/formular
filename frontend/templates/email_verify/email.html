<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–§–æ—Ä–º—É–ª—è—Ä–∫–∞ - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email</title>
        <style>
            :root {
                --primary: #4a6fa5;
                --secondary: #166088;
                --accent: #ff6b6b;
                --light: #f8f9fa;
                --dark: #212529;
                --gray: #6c757d;
                --success: #28a745;
                --warning: #ffc107;
                --danger: #dc3545;
                --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                --transition: all 0.3s ease;
            }
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #4a6fa5, #166088);
                color: var(--dark);
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
                padding: 20px;
                transition: var(--transition);
            }
            body.dark-theme {
                background: linear-gradient(135deg, #1a3a5f, #0d3a56);
            }
            .verification-container {
                background-color: white;
                border-radius: 10px;
                box-shadow: var(--shadow);
                width: 100%;
                max-width: 500px;
                overflow: hidden;
                transition: var(--transition);
            }
            body.dark-theme .verification-container {
                background-color: #1e1e1e;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            }
            .verification-header {
                padding: 30px;
                text-align: center;
                background: linear-gradient(
                    135deg,
                    var(--primary),
                    var(--secondary)
                );
                color: white;
            }
            body.dark-theme .verification-header {
                background: linear-gradient(135deg, #1a3a5f, #0d3a56);
            }
            .logo-container {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 12px;
                margin-bottom: 20px;
            }
            .logo-icon {
                width: 50px;
                height: 50px;
                background: white;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--primary);
                font-size: 30px;
                box-shadow: var(--shadow);
            }
            .logo-text {
                font-size: 28px;
                font-weight: 700;
                color: white;
            }
            .verification-header h1 {
                font-size: 24px;
                margin-bottom: 10px;
            }
            .verification-header p {
                font-size: 16px;
                opacity: 0.9;
                margin-bottom: 5px;
            }
            .verification-header .email {
                font-weight: 600;
                font-size: 18px;
                margin-top: 10px;
                background: rgba(255, 255, 255, 0.2);
                padding: 5px 15px;
                border-radius: 20px;
                display: inline-block;
            }
            .verification-content {
                padding: 30px;
            }
            .code-container {
                display: flex;
                justify-content: center;
                gap: 15px;
                margin: 30px 0;
            }
            .code-input {
                width: 60px;
                height: 70px;
                font-size: 32px;
                text-align: center;
                border: 2px solid #ddd;
                border-radius: 8px;
                transition: var(--transition);
            }
            body.dark-theme .code-input {
                background-color: #2d2d2d;
                border-color: #444;
                color: #f0f0f0;
            }
            .code-input:focus {
                border-color: var(--primary);
                outline: none;
                box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
                transform: translateY(-3px);
            }
            body.dark-theme .code-input:focus {
                box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            }
            .timer {
                text-align: center;
                margin: 20px 0;
                font-size: 16px;
            }
            .timer span {
                font-weight: 600;
                color: var(--primary);
            }
            body.dark-theme .timer span {
                color: #64b5f6;
            }
            .verify-btn {
                width: 100%;
                padding: 15px;
                background: var(--primary);
                color: white;
                border: none;
                border-radius: 6px;
                font-size: 18px;
                font-weight: 600;
                cursor: pointer;
                transition: var(--transition);
                margin-top: 20px;
            }
            .verify-btn:hover {
                background: var(--secondary);
                transform: translateY(-2px);
            }
            .verify-btn:disabled {
                background: var(--gray);
                cursor: not-allowed;
                transform: none;
            }
            .resend-link {
                display: block;
                text-align: center;
                margin-top: 20px;
                color: var(--primary);
                text-decoration: none;
                transition: var(--transition);
                cursor: pointer;
                font-weight: 500;
            }
            body.dark-theme .resend-link {
                color: #64b5f6;
            }
            .resend-link:hover {
                text-decoration: underline;
            }
            .resend-link.disabled {
                color: var(--gray);
                cursor: not-allowed;
            }
            .resend-link.disabled:hover {
                text-decoration: none;
            }
            .status-message {
                text-align: center;
                padding: 15px;
                border-radius: 8px;
                margin-top: 20px;
                display: none;
            }
            .status-message.success {
                background: rgba(40, 167, 69, 0.1);
                color: var(--success);
                display: block;
            }
            .status-message.error {
                background: rgba(220, 53, 69, 0.1);
                color: var(--danger);
                display: block;
            }
            .back-link {
                display: block;
                text-align: center;
                margin-top: 25px;
                color: var(--gray);
                text-decoration: none;
                transition: var(--transition);
            }
            .back-link:hover {
                color: var(--primary);
            }
            body.dark-theme .back-link:hover {
                color: #64b5f6;
            }
            /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
            @keyframes shake {
                0%,
                100% {
                    transform: translateX(0);
                }
                20%,
                60% {
                    transform: translateX(-5px);
                }
                40%,
                80% {
                    transform: translateX(5px);
                }
            }
            .shake {
                animation: shake 0.5s ease-in-out;
            }
            /* Responsive */
            @media (max-width: 576px) {
                .verification-header {
                    padding: 20px;
                }
                .verification-content {
                    padding: 20px;
                }
                .code-container {
                    gap: 10px;
                }
                .code-input {
                    width: 50px;
                    height: 60px;
                    font-size: 28px;
                }
            }
        </style>
    </head>
    <body>
        <div class="verification-container">
            <div class="verification-header">
                <div class="logo-container">
                    <div class="logo-icon">üß™</div>
                    <div class="logo-text">–§–æ—Ä–º—É–ª—è—Ä–∫–∞</div>
                </div>
                <h1>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email</h1>
                <p>–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –Ω–∞ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É</p>
            </div>
            <div class="verification-content">
                <p>
                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏
                    –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ. –≠—Ç–æ—Ç –∫–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ
                    <span class="timer" id="timer">05:00</span> –º–∏–Ω—É—Ç.
                </p>
                <form id="verificationForm">
                    <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è email –∏–∑ URL -->
                    <input type="hidden" id="verification-email" name="email" />

                    <div class="code-container">
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="0"
                        />
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="1"
                        />
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="2"
                        />
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="3"
                        />
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="4"
                        />
                        <input
                            type="text"
                            class="code-input"
                            maxlength="1"
                            data-index="5"
                        />
                    </div>
                    <div class="status-message" id="statusMessage"></div>
                    <button
                        type="submit"
                        class="verify-btn"
                        id="verifyBtn"
                        disabled
                    >
                        –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                    </button>
                    <div class="resend-link disabled" id="resendLink">
                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ
                    </div>
                    <a href="auth.html" class="back-link"
                        >–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞</a
                    >
                </form>
            </div>
        </div>

        <script>
            // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
            const codeInputs = document.querySelectorAll(".code-input");
            const verifyBtn = document.getElementById("verifyBtn");
            const resendLink = document.getElementById("resendLink");
            const timerElement = document.getElementById("timer");
            const statusMessage = document.getElementById("statusMessage");
            const verificationForm =
                document.getElementById("verificationForm");
            const emailDisplay = document.querySelector(
                ".verification-header .email",
            );
            const verificationEmail =
                document.getElementById("verification-email");

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.addEventListener("DOMContentLoaded", () => {
                // –ü–æ–ª—É—á–∞–µ–º email –∏–∑ URL
                const email = getEmailFromUrl();

                if (email) {
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º email –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
                    emailDisplay.textContent = email;
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º email –≤ —Å–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ —Ñ–æ—Ä–º—ã
                    verificationEmail.value = email;

                    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–∫—É—Å–∞ –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ
                    codeInputs[0].focus();
                    // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
                    startTimer();

                    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞ 30 —Å–µ–∫—É–Ω–¥
                    setTimeout(() => {
                        resendLink.classList.remove("disabled");
                    }, 30000);
                } else {
                    // –ï—Å–ª–∏ email –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω –≤ URL, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
                    emailDisplay.textContent = "–û—à–∏–±–∫–∞: email –Ω–µ —É–∫–∞–∑–∞–Ω";
                    emailDisplay.style.background = "rgba(220, 53, 69, 0.2)";
                    statusMessage.textContent =
                        "–û—à–∏–±–∫–∞: email –Ω–µ —É–∫–∞–∑–∞–Ω. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.";
                    statusMessage.className = "status-message error";
                    statusMessage.style.display = "block";

                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                    verifyBtn.disabled = true;
                    resendLink.classList.add("disabled");

                    // –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                    setTimeout(() => {
                        window.location.href = "auth.html";
                    }, 5000);
                }

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Ç–µ–º—ã
                const savedTheme = localStorage.getItem("theme");
                if (savedTheme === "dark") {
                    document.body.classList.add("dark-theme");
                }
            });

            // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
            let timeLeft = 300; // 5 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            let timerInterval;

            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
            function startTimer() {
                clearInterval(timerInterval);
                timeLeft = 300;
                updateTimer();
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimer();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        resendLink.classList.remove("disabled");
                        verifyBtn.disabled = true;
                        statusMessage.textContent =
                            "–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞ –∏—Å—Ç–µ–∫. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥.";
                        statusMessage.className = "status-message error";
                        statusMessage.style.display = "block";
                    }
                }, 1000);
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
            function updateTimer() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
            codeInputs.forEach((input, index) => {
                input.addEventListener("input", function () {
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–ª—é
                    if (this.value && index < codeInputs.length - 1) {
                        codeInputs[index + 1].focus();
                    }
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª–µ–π
                    checkCodeCompletion();
                });

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
                input.addEventListener("keydown", function (e) {
                    if (e.key === "Backspace" && !this.value && index > 0) {
                        codeInputs[index - 1].focus();
                    }
                });
            });

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
            function checkCodeCompletion() {
                let allFilled = true;
                codeInputs.forEach((input) => {
                    if (!input.value) allFilled = false;
                });
                verifyBtn.disabled = !allFilled;
                return allFilled;
            }

            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
            verificationForm.addEventListener("submit", async function (e) {
                e.preventDefault();

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ email
                const email = verificationEmail.value;
                if (!email) {
                    statusMessage.textContent =
                        "–û—à–∏–±–∫–∞: email –Ω–µ —É–∫–∞–∑–∞–Ω. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.";
                    statusMessage.className = "status-message error";
                    statusMessage.style.display = "block";
                    return;
                }

                // –°–±–æ—Ä –∫–æ–¥–∞ –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞

                // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –∏ email –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                try {
                    statusMessage.textContent = "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞...";
                    statusMessage.className = "status-message";
                    statusMessage.style.display = "block";
                    verifyBtn.disabled = true;
                    const urlParams = new URLSearchParams(
                        window.location.search,
                    );
                    const email = urlParams.get("email");

                    let code = "";
                    codeInputs.forEach((input) => {
                        code += input.value;
                    });
                    const response = await fetch("/api/verify/email", {
                        method: "POST",
                        headers: {
                            "X-XSRF-TOKEN": getCookie("XSRF-TOKEN"),
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            email: email,
                            code: code,
                        }),
                    });

                    const result = await response.json();

                    if (response.ok) {
                        // –£—Å–ø–µ—à–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
                        statusMessage.textContent =
                            "Email —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É";
                        statusMessage.className = "status-message success";

                        setTimeout(() => {
                            window.location.href = "/";
                        }, 2000);
                    } else {
                        // –û—à–∏–±–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
                        statusMessage.textContent =
                            result.error ||
                            "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
                        statusMessage.className = "status-message error";

                        // –ê–Ω–∏–º–∞—Ü–∏—è –æ—à–∏–±–∫–∏
                        codeInputs.forEach((input) => {
                            input.classList.add("shake");
                            setTimeout(
                                () => input.classList.remove("shake"),
                                500,
                            );
                        });

                        // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª–µ–π
                        setTimeout(() => {
                            codeInputs.forEach((input) => {
                                input.value = "";
                            });
                            codeInputs[0].focus();
                            verifyBtn.disabled = true;
                        }, 500);
                    }
                } catch (error) {
                    statusMessage.textContent =
                        "–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";
                    statusMessage.className = "status-message error";
                    console.error("Verification error:", error);

                    setTimeout(() => {
                        codeInputs.forEach((input) => {
                            input.value = "";
                        });
                        codeInputs[0].focus();
                        verifyBtn.disabled = true;
                    }, 500);
                }
            });

            // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞
            resendLink.addEventListener("click", async function () {
                if (this.classList.contains("disabled")) return;

                const email = verificationEmail.value;
                if (!email) {
                    statusMessage.textContent =
                        "–û—à–∏–±–∫–∞: email –Ω–µ —É–∫–∞–∑–∞–Ω. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.";
                    statusMessage.className = "status-message error";
                    statusMessage.style.display = "block";
                    return;
                }

                try {
                    statusMessage.textContent = "–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞...";
                    statusMessage.className = "status-message";
                    statusMessage.style.display = "block";
                    this.classList.add("disabled");
                    verifyBtn.disabled = true;

                    const response = await fetch("/api/resend-verification", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({ email: email }),
                    });

                    if (response.ok) {
                        statusMessage.textContent =
                            "–ù–æ–≤—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≤–∞—à email!";
                        statusMessage.className = "status-message success";

                        // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª–µ–π
                        codeInputs.forEach((input) => {
                            input.value = "";
                        });
                        codeInputs[0].focus();

                        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
                        startTimer();

                        // –°–Ω—è—Ç–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥
                        setTimeout(() => {
                            resendLink.classList.remove("disabled");
                        }, 30000);
                    } else {
                        const result = await response.json();
                        statusMessage.textContent =
                            result.error ||
                            "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";
                        statusMessage.className = "status-message error";

                        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏
                        this.classList.remove("disabled");
                        verifyBtn.disabled = false;
                    }
                } catch (error) {
                    statusMessage.textContent =
                        "–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.";
                    statusMessage.className = "status-message error";
                    console.error("Resend error:", error);

                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏
                    this.classList.remove("disabled");
                    verifyBtn.disabled = false;
                }
            });
            function getCookie(name) {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                if (parts.length === 2) return parts.pop().split(";").shift();
            }
        </script>
    </body>
</html>
